{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SUPER PC\\\\Desktop\\\\weather-app\\\\weather-app\\\\src\\\\scripts\\\\WeatherAPI.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport { Chart } from \"chart.js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = \"&appid=27e27f3b62720afb770645ec7ae89aa7\"; // Twój klucz API WeatherAPI\nconst API_URL = \"https://api.weatherapi.com/v1/forecast.json\";\nconst WeatherHourlyChart = _ref => {\n  _s();\n  let {\n    city\n  } = _ref;\n  const [hourlyData, setHourlyData] = useState(null);\n  useEffect(() => {\n    async function fetchWeatherData() {\n      try {\n        const response = await axios.get(`${API_URL}?key=${API_KEY}&q=${city}&days=1&aqi=no&alerts=no&hour=24`);\n        const data = response.data;\n\n        // Przetwarzanie danych godzinowej prognozy pogody\n        const hourlyForecast = data.forecast.forecastday[0].hour.map(item => ({\n          time: item.time,\n          // Czas\n          temperature: item.temp_c // Temperatura w stopniach Celsiusza\n          // Dodaj inne niezbędne informacje\n        }));\n\n        setHourlyData(hourlyForecast);\n      } catch (error) {\n        console.error(\"Błąd pobierania prognozy pogody:\", error);\n      }\n    }\n    fetchWeatherData();\n  }, [city]);\n  useEffect(() => {\n    if (hourlyData) {\n      // Generowanie wykresu po otrzymaniu danych godzinowej prognozy pogody\n      generateChart();\n    }\n  }, [hourlyData]);\n  const generateChart = () => {\n    const labels = hourlyData.map(item => item.time);\n    const temperatures = hourlyData.map(item => item.temperature);\n    const ctx = document.getElementById(\"weatherChart\").getContext(\"2d\");\n    new Chart(ctx, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: [{\n          label: \"Temperatura (°C)\",\n          data: temperatures,\n          borderColor: \"blue\",\n          backgroundColor: \"rgba(0, 0, 255, 0.2)\",\n          fill: true\n        }]\n      },\n      options: {\n        responsive: true,\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"weatherChart\",\n    width: \"400\",\n    height: \"200\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 10\n  }, this);\n};\n_s(WeatherHourlyChart, \"rOgxkglYCV72+AA9G1z9b88ObDE=\");\n_c = WeatherHourlyChart;\nexport default WeatherHourlyChart;\nvar _c;\n$RefreshReg$(_c, \"WeatherHourlyChart\");","map":{"version":3,"names":["React","useRef","useEffect","Chart","axios","jsxDEV","_jsxDEV","API_KEY","API_URL","WeatherHourlyChart","_ref","_s","city","hourlyData","setHourlyData","useState","fetchWeatherData","response","get","data","hourlyForecast","forecast","forecastday","hour","map","item","time","temperature","temp_c","error","console","generateChart","labels","temperatures","ctx","document","getElementById","getContext","type","datasets","label","borderColor","backgroundColor","fill","options","responsive","scales","y","beginAtZero","id","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SUPER PC/Desktop/weather-app/weather-app/src/scripts/WeatherAPI.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { Chart } from \"chart.js\";\r\nimport axios from \"axios\";\r\n\r\nconst API_KEY = \"&appid=27e27f3b62720afb770645ec7ae89aa7\";// Twój klucz API WeatherAPI\r\nconst API_URL = \"https://api.weatherapi.com/v1/forecast.json\";\r\n\r\nconst WeatherHourlyChart = ({ city }) => {\r\n  const [hourlyData, setHourlyData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchWeatherData() {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}?key=${API_KEY}&q=${city}&days=1&aqi=no&alerts=no&hour=24`\r\n        );\r\n        const data = response.data;\r\n\r\n        // Przetwarzanie danych godzinowej prognozy pogody\r\n        const hourlyForecast = data.forecast.forecastday[0].hour.map(\r\n          (item) => ({\r\n            time: item.time, // Czas\r\n            temperature: item.temp_c, // Temperatura w stopniach Celsiusza\r\n            // Dodaj inne niezbędne informacje\r\n          })\r\n        );\r\n\r\n        setHourlyData(hourlyForecast);\r\n      } catch (error) {\r\n        console.error(\"Błąd pobierania prognozy pogody:\", error);\r\n      }\r\n    }\r\n\r\n    fetchWeatherData();\r\n  }, [city]);\r\n\r\n  useEffect(() => {\r\n    if (hourlyData) {\r\n      // Generowanie wykresu po otrzymaniu danych godzinowej prognozy pogody\r\n      generateChart();\r\n    }\r\n  }, [hourlyData]);\r\n\r\n  const generateChart = () => {\r\n    const labels = hourlyData.map((item) => item.time);\r\n    const temperatures = hourlyData.map((item) => item.temperature);\r\n\r\n    const ctx = document.getElementById(\"weatherChart\").getContext(\"2d\");\r\n    new Chart(ctx, {\r\n      type: \"line\",\r\n      data: {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: \"Temperatura (°C)\",\r\n            data: temperatures,\r\n            borderColor: \"blue\",\r\n            backgroundColor: \"rgba(0, 0, 255, 0.2)\",\r\n            fill: true,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  return <canvas id=\"weatherChart\" width=\"400\" height=\"200\" />;\r\n};\r\n\r\nexport default WeatherHourlyChart;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChD,SAASC,KAAK,QAAQ,UAAU;AAChC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,OAAO,GAAG,yCAAyC,CAAC;AAC1D,MAAMC,OAAO,GAAG,6CAA6C;AAE7D,MAAMC,kBAAkB,GAAGC,IAAA,IAAc;EAAAC,EAAA;EAAA,IAAb;IAAEC;EAAK,CAAC,GAAAF,IAAA;EAClC,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGC,QAAQ,CAAC,IAAI,CAAC;EAElDb,SAAS,CAAC,MAAM;IACd,eAAec,gBAAgBA,CAAA,EAAG;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAC7B,GAAEV,OAAQ,QAAOD,OAAQ,MAAKK,IAAK,kCACtC,CAAC;QACD,MAAMO,IAAI,GAAGF,QAAQ,CAACE,IAAI;;QAE1B;QACA,MAAMC,cAAc,GAAGD,IAAI,CAACE,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG,CACzDC,IAAI,KAAM;UACTC,IAAI,EAAED,IAAI,CAACC,IAAI;UAAE;UACjBC,WAAW,EAAEF,IAAI,CAACG,MAAM,CAAE;UAC1B;QACF,CAAC,CACH,CAAC;;QAEDd,aAAa,CAACM,cAAc,CAAC;MAC/B,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF;IAEAb,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACJ,IAAI,CAAC,CAAC;EAEVV,SAAS,CAAC,MAAM;IACd,IAAIW,UAAU,EAAE;MACd;MACAkB,aAAa,CAAC,CAAC;IACjB;EACF,CAAC,EAAE,CAAClB,UAAU,CAAC,CAAC;EAEhB,MAAMkB,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,MAAM,GAAGnB,UAAU,CAACW,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAAC;IAClD,MAAMO,YAAY,GAAGpB,UAAU,CAACW,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACE,WAAW,CAAC;IAE/D,MAAMO,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,UAAU,CAAC,IAAI,CAAC;IACpE,IAAIlC,KAAK,CAAC+B,GAAG,EAAE;MACbI,IAAI,EAAE,MAAM;MACZnB,IAAI,EAAE;QACJa,MAAM,EAAEA,MAAM;QACdO,QAAQ,EAAE,CACR;UACEC,KAAK,EAAE,kBAAkB;UACzBrB,IAAI,EAAEc,YAAY;UAClBQ,WAAW,EAAE,MAAM;UACnBC,eAAe,EAAE,sBAAsB;UACvCC,IAAI,EAAE;QACR,CAAC;MAEL,CAAC;MACDC,OAAO,EAAE;QACPC,UAAU,EAAE,IAAI;QAChBC,MAAM,EAAE;UACNC,CAAC,EAAE;YACDC,WAAW,EAAE;UACf;QACF;MACF;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBAAO1C,OAAA;IAAQ2C,EAAE,EAAC,cAAc;IAACC,KAAK,EAAC,KAAK;IAACC,MAAM,EAAC;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC9D,CAAC;AAAC5C,EAAA,CAnEIF,kBAAkB;AAAA+C,EAAA,GAAlB/C,kBAAkB;AAqExB,eAAeA,kBAAkB;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}